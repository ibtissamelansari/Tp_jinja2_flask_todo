{% extends "base.html" %}

{% block title %}Accueil{% endblock %}

{% block content %}
<div class="controls">
    <input type="text" id="search" placeholder="Rechercher une tâche..." class="search-input">

    <form action="{{ url_for('add_task') }}" method="POST" class="add-form">
        <input type="text" name="title" placeholder="Nouvelle tâche..." required>
        <button type="submit">Ajouter</button>
    </form>
</div>

<table class="todo-table">
  <tbody>
    {% for task in tasks %}
      <tr class="todo-row {% if task.done %}done{% endif %}">
        
        <td class="todo-title">
            <a href="{{ url_for('toggle_task', task_id=task.id) }}" class="task-link">
                {{ task.title }}
            </a>
        </td>

        <td class="todo-status">
          {% if task.done %}
            <span class="status done">✔ Fait</span>
          {% else %}
            <span class="status pending">✖ Non fait</span>
          {% endif %}
        </td>

        <td>
          <a href="{{ url_for('delete_task', task_id=task.id) }}" class="btn btn-delete">Supprimer</a>
        </td>

      </tr>
    {% endfor %}
  </tbody>
</table>
{% endblock %}
